@model SignalR.Models.Employee

@{
    ViewData["Title"] = "Add";
}

<h1>Add</h1>

<div class="row">
    <div class="col-md-4 m-2">
       <input type="text" name="name" placeholder="Enter Name" id="name" class="my-2"/>
        <input type="number" name="age" placeholder="Enter Age" id="age" class="my-2" />
        <input type="text" name="adress" placeholder="Enter Address" id="add" class="my-2" />
    </div>
    <div>
       <input type="submit" name="submit" id="btn" onclick="addEmp()" class="btn btn-success m-2"/>
    </div>
</div>

@section Scripts {
    <script src="~/microsoft/signalr/dist/browser/signalr.min.js"></script>

    <script>

        con = new signalR.HubConnectionBuilder().withUrl("/Employee").build();

        con.start();

        function addEmp() {

            var obj = {
                "name": $("#name").val(),
                "age" : parseInt($("#age").val()),
                "address": $("#add").val()
            }

            con.invoke("addemp", obj);
        }

    </script>
}